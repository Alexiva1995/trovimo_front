<div class="section-form">
  <!--PRECIO-->
  <div class="row" style="align-items: center">
    <div class="col-lg-6">
      <div class="form-group">
        <label class="required">Price</label>
        <div class="input-group area">
          <input
            [(ngModel)]="mainInfo.price"
            (ngModelChange)="onChange()"
            aria-label="Amount (to the nearest dollar)"
            class="form-control form-control-lg"
            style="border-right: none"
            type="number"
            min="1"
            required
          >
          <div class="input-group-append">
            <select class="form-select">
              <option selected value="1">COP</option>
              <option value="2">USD</option>
            </select>
            <span *ngIf="type != 1 && type != 4"  class="input-group-text-custom" style="border-top-right-radius: 8px;border-bottom-right-radius: 8px">Month</span>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-6" *ngIf="type != 3">
      <div class="form-check form-check-inline" style="margin-top: 20px">
        <input
          [(ngModel)]="mainInfo.show_price"
          (ngModelChange)="onChange()"
          class="form-check-input"
          name="exampleRadios"
          type="checkbox"
          value="option3"
        >
        <label class="form-check-label" for="exampleRadios3">
          Do not show price ( Price upon request)
        </label>
      </div>
    </div>
  </div>
  <!---->

  <!-- SELECTOR NUMERICOS -->
  <div *ngIf="type == 1 || type == 4"  class="row">
    <div class="col-6 col-lg-4" *ngIf="type !== 1">
      <div class="form-group">
        <label class="required" for="exampleInputEmail1">Area</label>
        <div class="input-group area">
          <input
            class="form-control  form-control-lg"
            type="number"
            style="width: 70%"
            [(ngModel)]="mainInfo.area"
            (ngModelChange)="onChange()"
          >
          <select class="form-select">
            <option selected value="1">M2</option>
            <option value="2">sqft</option>
          </select>
        </div>
      </div>
    </div>
    <div class="col-6 col-lg-3">
      <div class="form-group">
        <label class="required">Rooms</label>
        <app-number-selector (setValue)="mainInfo.rooms = $event"></app-number-selector>
      </div>
    </div>
    <div class="col-6 col-lg-3">
      <div class="form-group">
        <label class="required" >Bath</label>
        <app-number-selector (setValue)="mainInfo.bath = $event"></app-number-selector>
      </div>
    </div>
    <div class="col-6 col-lg-3">
      <div class="form-group">
        <label class="required" >Parking spots</label>
        <app-number-selector (setValue)="mainInfo.parking_spots = $event"></app-number-selector>
      </div>
    </div>
    <div class="col-6 col-lg-3" *ngIf="type == 1">
      <div class="form-group">
        <label class="required">NÂ° pieces</label>
        <app-number-selector (setValue)="mainInfo.n_pieces = $event"></app-number-selector>
      </div>
    </div>
  </div>
  <!-- -->

  <div *ngIf="type == 1" class="row">
    <div class="col-12 col-lg-4">
      <div class="form-group">
        <label class="required" for="exampleInputEmail1">Area</label>
        <div class="input-group area">
          <input
            class="form-control  form-control-lg"
            type="text"
            [(ngModel)]="mainInfo.area"
            (ngModelChange)="onChange()"
          >
          <select class="form-select">
            <option selected value="1">M2</option>
            <option value="2">sqft</option>
          </select>
        </div>

      </div>
    </div>
    <div class="col-12 col-sm-6 col-lg-4">

      <div class="form-group">
        <label>Year built</label>
        <select
          class="form-control-lg form-select"
          style="width: 100%"
          (ngModelChange)="onChange()"
          [(ngModel)]="mainInfo.year_built"
        >
          <option value="">No defined</option>
          <option *ngFor="let year of years" [value]="year">{{year}}</option>
        </select>
      </div>
    </div>
    <div class="col-12 col-sm-6 col-lg-4">

      <div class="form-group">
        <label>Year remodeled</label>
        <select
          class="form-control-lg form-select"
          style="width: 100%"
          (ngModelChange)="onChange()"
          [(ngModel)]="mainInfo.year_remodeled"
        >
          <option value="">No defined</option>
          <option *ngFor="let year of years" [value]="year">{{year}}</option>
        </select>
      </div>
    </div>
  </div>

  <!-- -->
  <div *ngIf="type == 3"  class="row">
    <div class="col-4">
      <div class="form-group">
        <label for="exampleInputEmail1">Bathroom *</label>
        <div class="row-custom">
          <div class="form-check form-check-inline">
            <input checked class="form-check-input" id="exampleRadios1" name="exampleRadios" type="radio"
                   value="option1">
            <label class="form-check-label" for="exampleRadios1">
              Private
            </label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" id="exampleRadios2" name="exampleRadios" type="radio" value="option2">
            <label class="form-check-label" for="exampleRadios2">
              Shared
            </label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" id="exampleRadios3" name="exampleRadios" type="radio" value="option3">
            <label class="form-check-label" for="exampleRadios3">
              No
            </label>
          </div>
        </div>
      </div>
    </div>
    <div  class="col-4">
      <div class="form-group">
        <label for="exampleInputEmail1">Furnished *</label>
        <div class="row-custom">
          <div class="form-check form-check-inline">
            <input checked class="form-check-input " id="exampleRadios4" name="exampleRadios" type="radio"
                   value="option1">
            <label class="form-check-label" for="exampleRadios4">
              Full
            </label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" id="exampleRadios5" name="exampleRadios" type="radio" value="option2">
            <label class="form-check-label" for="exampleRadios5">
              Partially
            </label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" id="exampleRadios6" name="exampleRadios" type="radio" value="option3">
            <label class="form-check-label" for="exampleRadios6">
              No
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="type == 3" class="row">
    <div class="col-4">
      <div class="form-group">
        <label for="exampleInputEmail1">Pets *</label>
        <div class="row-custom">
          <div class="form-check form-check-inline">
            <input checked class="form-check-input " id="exampleRadios7" name="exampleRadios" type="checkbox"
                   value="option1">
            <label class="form-check-label" for="exampleRadios7">
              Dogs
            </label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" id="exampleRadios8" name="exampleRadios" type="checkbox" value="option2">
            <label class="form-check-label" for="exampleRadios8">
              Cats
            </label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" id="exampleRadios9" name="exampleRadios" type="checkbox" value="option3">
            <label class="form-check-label" for="exampleRadios9">
              Birds
            </label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" id="exampleRadios10" name="exampleRadios" type="checkbox" value="option3">
            <label class="form-check-label" for="exampleRadios10">
              All
            </label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" id="exampleRadios11" name="exampleRadios" type="checkbox" value="option3">
            <label class="form-check-label" for="exampleRadios3">
              No
            </label>
          </div>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <label for="exampleInputEmail1">Avaliable Date *</label>
        <div class="row-custom">
          <div class="col-6 remove-padding-left">
            <input
              aria-describedby="emailHelp"
              class="form-control form-control-lg"
              required
              type="date"
            />
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" id="exampleRadios12" name="exampleRadios" type="checkbox" value="option3">
            <label class="form-check-label" for="exampleRadios12">
              Show (immediatly)
            </label>
          </div>

        </div>
      </div>
    </div>
  </div>

  <div class="form-group">
    <label class="required" for="exampleInputEmail1">Description</label>
    <textarea
      [(ngModel)]="mainInfo.description"
      (ngModelChange)="onChange()"
      aria-describedby="emailHelp"
      class="form-control"
      cols="5"
      required
      rows="5"
    ></textarea>
  </div>
</div>

<div class="section-location">
  <div class="row">
    <div class="col-12 section-custom">
      <h5>location</h5>
    </div>
    <div class="col-12 col-lg-4">
      <div class="form-group">
        <label class="required">Country</label>
        <select
          [(ngModel)]="mainInfo.country"
          (ngModelChange)="changeCountry()"
          class="form-control-lg form-select"
          style="width: 100%"
        >
          <option selected value="Colombia">Colombia</option>
          <option selected value="Switzerland">Switzerland</option>
        </select>
      </div>
    </div>
    <div class="col-12 col-lg-4">
      <div class="form-group">
        <label class="required">City</label>
        <input
          [(ngModel)]="mainInfo.city"
          (ngModelChange)="onChange()"
          aria-describedby="emailHelp"
          class="form-control form-control-lg"
          required
          type="text"
        />
      </div>
    </div>
    <div class="col-12 col-lg-4">
      <div class="form-group">
        <label>Postal code - state</label>
        <input
          [(ngModel)]="mainInfo.postal_code"
          (ngModelChange)="onChange()"
          aria-describedby="emailHelp"
          class="form-control form-control-lg"
          required
          type="text"
        />
      </div>
    </div>
  </div>


  <div class="map">
    <!--mapa-->
    <app-map [lng]="mainInfo.lon" [lat]="mainInfo.lat"></app-map>
        <input
          class="form-control form-control-lg"
          required
          type="text"
          id="coordinates"
          placeholder="Coordinates"
          [(ngModel)]="coordinates"
          (ngModelChange)="setCoordinates()"
          style="width: 30rem;margin: auto;margin-right: 0;"
        />
  </div>
</div>

<!--PLANS-->
<div *ngIf="type == 2" style="margin-top: 30px;margin-bottom: 30px">
  <h5 style="margin-bottom: 20px">Plans</h5>
  <div class="row">
    <div *ngFor="let plan of plans" class="col-12 col-lg-4">
      <app-plans-form></app-plans-form>
    </div>
    <div class="add-plan col-12 col-lg-3">
      <div class="add-icon" (click)="addPlans()"><i class="fas fa-plus"></i></div>
    </div>
  </div>
</div>

<!--TYPES-->
<div *ngIf="type == 4" style="margin-top: 30px;margin-bottom: 30px">
  <h5 style="margin-bottom: 20px">Types of properties</h5>
  <div class="row">
    <div *ngFor="let typep of typesp" class="col-12 col-lg-4">
      <app-types-form></app-types-form>
    </div>
    <div class="add-plan col-12 col-lg-3">
      <div class="add-icon" (click)="addProperty()"><i class="fas fa-plus"></i></div>
    </div>
  </div>
</div>

<!--Media-->
<div class="section-media">
    <div class="section-custom">
      <h5>Media</h5>
      <label class="required">Photos</label>
        <div style="display: flex;flex-wrap: wrap">
            <div class="custom-input-file">
              <input #file type="file" accept='image/*' (change)="addImage(file.files)" class="input-file">
              <i class="far fa-file-image"></i>
              <span>Add photos</span>
            </div>
          <div *ngFor="let image of imagesReader; let i = index" style="margin: 10px">
              <img style="width: 165px;height: 165px" [src]="image" alt="test">
            <div class="image-actions">
              <div class="delete" (click)="removeImage(i)"><i class="far fa-trash-alt"></i></div>
            </div>
          </div>
        </div>
    </div>
  <div class="section-custom">
      <label>Video</label>
      <p>Copy the URL of the youtube video you want to include</p>
        <div class="row">
          <div class="form-group col-10 col-lg-6">
              <input class="form-control" type="text" [(ngModel)]="videoUrl">
          </div>
          <div class="col-2 col-lg-2">
            <button class="btn btn-primary" (click)="addVideoUrl()">
              Add
            </button>
          </div>
        </div>
        <div style="display: flex;flex-wrap: wrap">
          <div class="custom-input-file">
            <input #filevideo placeholder="Youtube embed url" type="file" accept='video/*' (change)="addVideo(filevideo.files)" class="input-file">
            <i class="far fa-file-video"></i>
            <span>Add videos</span>
          </div>
          <div *ngFor="let video of videosReader; let i = index" style="margin: 10px">
            <div *ngIf="!isVideoUrl(i)">
              <video style="width: 165px;height: 165px;background-color: black" [src]="video" controls></video>
            </div>
            <div *ngIf="isVideoUrl(i)">
              <iframe width="165" height="165" [src]="video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
            </div>
            <div class="image-actions">
              <div class="delete" (click)="removeVideo(i)"><i class="far fa-trash-alt"></i></div>
            </div>
          </div>
        </div>
  </div>

  <!-- 360 tour -->
  <div class="row">
    <div class="col-12">
      <label>360 tour</label>
      <p>Copy the URL of the 360 tour you want to include</p>
    </div>
    <div class="col-12 col-lg-6">
      <div class="form-group">
        <div class="row-custom">
          <input
            [(ngModel)]="mainInfo.tour"
            (ngModelChange)="onChange()"
            placeholder="url"
            class="form-control"
            type="text"
          >
        </div>
      </div>
    </div>
  </div>
</div>

<div class="section-contact">
  <div class="row">
    <div class="col-12 section-custom">
      <h5>Contact</h5>
    </div>
    <div class="col-12 col-lg-4">
      <div class="form-group">
        <label>Name</label>
        <input
          [(ngModel)]="mainInfo.name"
          (ngModelChange)="onChange()"
          aria-describedby="emailHelp"
          class="form-control"
          id="exampleInputEmail1"
          required
          type="text"
        />
      </div>
    </div>
    <div class="col-12 col-lg-4">
      <div class="form-group">
        <label>Email</label>
        <input
          [(ngModel)]="mainInfo.email"
          (ngModelChange)="onChange()"
          aria-describedby="emailHelp"
          class="form-control"
          required
          type="text"
        />
      </div>
    </div>
    <div class="col-12 col-lg-4">
      <div class="form-group">
        <label for="exampleInputEmail1">Phone</label>
        <input
          [(ngModel)]="mainInfo.phone"
          (ngModelChange)="onChange()"
          aria-describedby="emailHelp"
          class="form-control"
          required
          type="text"
        />
      </div>
    </div>
  </div>
</div>

